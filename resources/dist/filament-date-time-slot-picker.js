(()=>{document.addEventListener("alpine:init",()=>{Alpine.data("dateTimeSlotPicker",({state:n,options:i,timezone:a})=>({state:n,options:[],selectedDate:null,selectedOption:null,monthStart:new Date(new Date().getFullYear(),new Date().getMonth()),init(){this.options=i.map(t=>({start:new Date(t[0]),id:t[1]}))},get locale(){return document.documentElement.lang},get month(){let t=[],e=new Date(this.monthStart),s=new Date(this.monthStart.getFullYear(),this.monthStart.getMonth()+1,0);for(;e<=s;)t.push(new Date(e)),e.setDate(e.getDate()+1);return t},get monthLabel(){return this.monthStart.toLocaleString(this.locale,{month:"long"})+" "+this.monthStart.getFullYear()},get monthStartDay(){return(this.month[0].getDay()+6)%7+1},getWeekDayLabel(t){let e=new Date;return e.setDate(e.getDate()+(t-e.getDay())),e.toLocaleString(this.locale,{weekday:"short",timeZone:a})},get canDecrementMonth(){return!(this.isPast(this.monthStart)||this.isToday(this.monthStart))},decrementMonth(){this.addToMonth(-1)},incrementMonth(){this.addToMonth(1)},addToMonth(t){let e=new Date(this.monthStart.valueOf());e.setMonth(e.getMonth()+t),this.monthStart=e},isSameDate(t,e){return e===null?!1:new Date(t.toDateString()).valueOf()===new Date(e.toDateString()).valueOf()},isToday(t){return this.isSameDate(t,new Date)},isPast(t){return new Date(t.toDateString()).valueOf()<new Date(new Date().toDateString()).valueOf()},isOption(t){return this.getOptionsForDate(t).length>0},isSelectedDate(t){return this.isSameDate(t,this.selectedDate)},selectDate(t){this.state=null,this.selectedOption=null,this.selectedDate=t},get selectedDateLabel(){return this.selectedDate.toLocaleDateString(this.locale,{weekday:"long",month:"long",day:"numeric"})},getOptionsForDate(t){return this.options.filter(e=>this.isSameDate(t,e.start))},get optionsForSelectedDate(){return this.getOptionsForDate(this.selectDate)},getOptionLabel(t){return t.start.toLocaleTimeString(this.locale,{hour:"2-digit",minute:"2-digit",timeZone:a})},isSelectedOption(t){return t===this.selectedOption},setState(t){this.state=[t.start,t.id]},isSelectedState(t){return this.state?this.state[1]===t:!1}}))});})();
